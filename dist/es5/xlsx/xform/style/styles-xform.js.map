{"version":3,"file":"styles-xform.js","names":["Enums","require","XmlStream","BaseXform","StaticXform","ListXform","FontXform","FillXform","BorderXform","NumFmtXform","StyleXform","DxfXform","NUMFMT_BASE","StylesXform","initialise","map","numFmts","tag","count","childXform","fonts","$","fills","borders","cellStyleXfs","cellXfs","xfId","dxfs","always","numFmt","font","fill","border","style","cellStyles","STATIC_XFORMS","tableStyles","extLst","init","index","numFmtNextId","model","styles","initIndex","_addBorder","_addStyle","numFmtId","fontId","fillId","borderId","_addFill","type","pattern","weakMap","WeakMap","xmlStream","openXml","StdDocAttributes","openNode","STYLESHEET_ATTRIBUTES","length","forEach","numFmtXml","writeXml","closeNode","_addFont","size","color","theme","name","family","scheme","fontXml","fillXml","borderXml","render","styleXml","node","parser","parseOpen","text","parseText","parseClose","undefined","add","propName","xform","numFmtIndex","id","formatCode","cellType","has","get","ValueType","Number","_addNumFmtStr","Date","alignment","protection","styleId","set","getDefaultFmtCode","addStyle","group","part","push","xml","toXml","getDefaultFmtId","xmlns","c","builtinId","defaultTableStyle","defaultPivotStyle","uri","defaultSlicerStyle","defaultTimelineStyle","StylesXformMock","stream","autodrain","Promise","resolve","dateStyleId","_dateStyleId","dateStyle","Mock","module","exports"],"sources":["../../../../../lib/xlsx/xform/style/styles-xform.js"],"sourcesContent":["/* eslint-disable max-classes-per-file */\nconst Enums = require('../../../doc/enums');\nconst XmlStream = require('../../../utils/xml-stream');\n\nconst BaseXform = require('../base-xform');\nconst StaticXform = require('../static-xform');\nconst ListXform = require('../list-xform');\nconst FontXform = require('./font-xform');\nconst FillXform = require('./fill-xform');\nconst BorderXform = require('./border-xform');\nconst NumFmtXform = require('./numfmt-xform');\nconst StyleXform = require('./style-xform');\nconst DxfXform = require('./dxf-xform');\n\n// custom numfmt ids start here\nconst NUMFMT_BASE = 164;\n\n// =============================================================================\n// StylesXform is used to generate and parse the styles.xml file\n// it manages the collections of fonts, number formats, alignments, etc\nclass StylesXform extends BaseXform {\n  constructor(initialise) {\n    super();\n\n    this.map = {\n      numFmts: new ListXform({tag: 'numFmts', count: true, childXform: new NumFmtXform()}),\n      fonts: new ListXform({\n        tag: 'fonts',\n        count: true,\n        childXform: new FontXform(),\n        $: {'x14ac:knownFonts': 1},\n      }),\n      fills: new ListXform({tag: 'fills', count: true, childXform: new FillXform()}),\n      borders: new ListXform({tag: 'borders', count: true, childXform: new BorderXform()}),\n      cellStyleXfs: new ListXform({tag: 'cellStyleXfs', count: true, childXform: new StyleXform()}),\n      cellXfs: new ListXform({\n        tag: 'cellXfs',\n        count: true,\n        childXform: new StyleXform({xfId: true}),\n      }),\n      dxfs: new ListXform({tag: 'dxfs', always: true, count: true, childXform: new DxfXform()}),\n\n      // for style manager\n      numFmt: new NumFmtXform(),\n      font: new FontXform(),\n      fill: new FillXform(),\n      border: new BorderXform(),\n      style: new StyleXform({xfId: true}),\n\n      cellStyles: StylesXform.STATIC_XFORMS.cellStyles,\n      tableStyles: StylesXform.STATIC_XFORMS.tableStyles,\n      extLst: StylesXform.STATIC_XFORMS.extLst,\n    };\n\n    if (initialise) {\n      // StylesXform also acts as style manager and is used to build up styles-model during worksheet processing\n      this.init();\n    }\n  }\n\n  initIndex() {\n    this.index = {\n      style: {},\n      numFmt: {},\n      numFmtNextId: 164, // start custom format ids here\n      font: {},\n      border: {},\n      fill: {},\n    };\n  }\n\n  init() {\n    // Prepare for Style Manager role\n    this.model = {\n      styles: [],\n      numFmts: [],\n      fonts: [],\n      borders: [],\n      fills: [],\n      dxfs: [],\n    };\n\n    this.initIndex();\n\n    // default (zero) border\n    this._addBorder({});\n\n    // add default (all zero) style\n    this._addStyle({numFmtId: 0, fontId: 0, fillId: 0, borderId: 0, xfId: 0});\n\n    // add default fills\n    this._addFill({type: 'pattern', pattern: 'none'});\n    this._addFill({type: 'pattern', pattern: 'gray125'});\n\n    this.weakMap = new WeakMap();\n  }\n\n  render(xmlStream, model) {\n    model = model || this.model;\n    //\n    //   <fonts count=\"2\" x14ac:knownFonts=\"1\">\n    xmlStream.openXml(XmlStream.StdDocAttributes);\n\n    xmlStream.openNode('styleSheet', StylesXform.STYLESHEET_ATTRIBUTES);\n\n    if (this.index) {\n      // model has been built by style manager role (contains xml)\n      if (model.numFmts && model.numFmts.length) {\n        xmlStream.openNode('numFmts', {count: model.numFmts.length});\n        model.numFmts.forEach(numFmtXml => {\n          xmlStream.writeXml(numFmtXml);\n        });\n        xmlStream.closeNode();\n      }\n\n      if (!model.fonts.length) {\n        // default (zero) font\n        this._addFont({size: 11, color: {theme: 1}, name: 'Calibri', family: 2, scheme: 'minor'});\n      }\n      xmlStream.openNode('fonts', {count: model.fonts.length, 'x14ac:knownFonts': 1});\n      model.fonts.forEach(fontXml => {\n        xmlStream.writeXml(fontXml);\n      });\n      xmlStream.closeNode();\n\n      xmlStream.openNode('fills', {count: model.fills.length});\n      model.fills.forEach(fillXml => {\n        xmlStream.writeXml(fillXml);\n      });\n      xmlStream.closeNode();\n\n      xmlStream.openNode('borders', {count: model.borders.length});\n      model.borders.forEach(borderXml => {\n        xmlStream.writeXml(borderXml);\n      });\n      xmlStream.closeNode();\n\n      this.map.cellStyleXfs.render(xmlStream, [{numFmtId: 0, fontId: 0, fillId: 0, borderId: 0, xfId: 0}]);\n\n      xmlStream.openNode('cellXfs', {count: model.styles.length});\n      model.styles.forEach(styleXml => {\n        xmlStream.writeXml(styleXml);\n      });\n      xmlStream.closeNode();\n    } else {\n      // model is plain JSON and needs to be xformed\n      this.map.numFmts.render(xmlStream, model.numFmts);\n      this.map.fonts.render(xmlStream, model.fonts);\n      this.map.fills.render(xmlStream, model.fills);\n      this.map.borders.render(xmlStream, model.borders);\n      this.map.cellStyleXfs.render(xmlStream, [{numFmtId: 0, fontId: 0, fillId: 0, borderId: 0, xfId: 0}]);\n      this.map.cellXfs.render(xmlStream, model.styles);\n    }\n\n    StylesXform.STATIC_XFORMS.cellStyles.render(xmlStream);\n\n    this.map.dxfs.render(xmlStream, model.dxfs);\n\n    StylesXform.STATIC_XFORMS.tableStyles.render(xmlStream);\n    StylesXform.STATIC_XFORMS.extLst.render(xmlStream);\n\n    xmlStream.closeNode();\n  }\n\n  parseOpen(node) {\n    if (this.parser) {\n      this.parser.parseOpen(node);\n      return true;\n    }\n    switch (node.name) {\n      case 'styleSheet':\n        this.initIndex();\n        return true;\n      default:\n        this.parser = this.map[node.name];\n        if (this.parser) {\n          this.parser.parseOpen(node);\n        }\n        return true;\n    }\n  }\n\n  parseText(text) {\n    if (this.parser) {\n      this.parser.parseText(text);\n    }\n  }\n\n  parseClose(name) {\n    if (this.parser) {\n      if (!this.parser.parseClose(name)) {\n        this.parser = undefined;\n      }\n      return true;\n    }\n    switch (name) {\n      case 'styleSheet': {\n        this.model = {};\n        const add = (propName, xform) => {\n          if (xform.model && xform.model.length) {\n            this.model[propName] = xform.model;\n          }\n        };\n        add('numFmts', this.map.numFmts);\n        add('fonts', this.map.fonts);\n        add('fills', this.map.fills);\n        add('borders', this.map.borders);\n        add('styles', this.map.cellXfs);\n        add('dxfs', this.map.dxfs);\n\n        // index numFmts\n        this.index = {\n          model: [],\n          numFmt: [],\n        };\n        if (this.model.numFmts) {\n          const numFmtIndex = this.index.numFmt;\n          this.model.numFmts.forEach(numFmt => {\n            numFmtIndex[numFmt.id] = numFmt.formatCode;\n          });\n        }\n\n        return false;\n      }\n      default:\n        // not quite sure how we get here!\n        return true;\n    }\n  }\n\n  // add a cell's style model to the collection\n  // each style property is processed and cross-referenced, etc.\n  // the styleId is returned. Note: cellType is used when numFmt not defined\n  addStyleModel(model, cellType) {\n    if (!model) {\n      return 0;\n    }\n\n    // if we have no default font, add it here now\n    if (!this.model.fonts.length) {\n      // default (zero) font\n      this._addFont({size: 11, color: {theme: 1}, name: 'Calibri', family: 2, scheme: 'minor'});\n    }\n\n    // if we have seen this style object before, assume it has the same styleId\n    if (this.weakMap && this.weakMap.has(model)) {\n      return this.weakMap.get(model);\n    }\n\n    const style = {};\n    cellType = cellType || Enums.ValueType.Number;\n\n    if (model.numFmt) {\n      style.numFmtId = this._addNumFmtStr(model.numFmt);\n    } else {\n      switch (cellType) {\n        case Enums.ValueType.Number:\n          style.numFmtId = this._addNumFmtStr('General');\n          break;\n        case Enums.ValueType.Date:\n          style.numFmtId = this._addNumFmtStr('mm-dd-yy');\n          break;\n        default:\n          break;\n      }\n    }\n\n    if (model.font) {\n      style.fontId = this._addFont(model.font);\n    }\n\n    if (model.border) {\n      style.borderId = this._addBorder(model.border);\n    }\n\n    if (model.fill) {\n      style.fillId = this._addFill(model.fill);\n    }\n\n    if (model.alignment) {\n      style.alignment = model.alignment;\n    }\n\n    if (model.protection) {\n      style.protection = model.protection;\n    }\n\n    const styleId = this._addStyle(style);\n    if (this.weakMap) {\n      this.weakMap.set(model, styleId);\n    }\n    return styleId;\n  }\n\n  // given a styleId (i.e. s=\"n\"), get the cell's style model\n  // objects are shared where possible.\n  getStyleModel(id) {\n    // if the style doesn't exist return null\n    const style = this.model.styles[id];\n    if (!style) return null;\n\n    // have we built this model before?\n    let model = this.index.model[id];\n    if (model) return model;\n\n    // build a new model\n    model = this.index.model[id] = {};\n\n    // -------------------------------------------------------\n    // number format\n    if (style.numFmtId) {\n      const numFmt = this.index.numFmt[style.numFmtId] || NumFmtXform.getDefaultFmtCode(style.numFmtId);\n      if (numFmt) {\n        model.numFmt = numFmt;\n      }\n    }\n\n    function addStyle(name, group, styleId) {\n      if (styleId || styleId === 0) {\n        const part = group[styleId];\n        if (part) {\n          model[name] = part;\n        }\n      }\n    }\n\n    addStyle('font', this.model.fonts, style.fontId);\n    addStyle('border', this.model.borders, style.borderId);\n    addStyle('fill', this.model.fills, style.fillId);\n\n    // -------------------------------------------------------\n    // alignment\n    if (style.alignment) {\n      model.alignment = style.alignment;\n    }\n\n    // -------------------------------------------------------\n    // protection\n    if (style.protection) {\n      model.protection = style.protection;\n    }\n\n    return model;\n  }\n\n  addDxfStyle(style) {\n    if (style.numFmt) {\n      // register numFmtId to use it during dxf-xform rendering\n      style.numFmtId = this._addNumFmtStr(style.numFmt);\n    }\n\n    this.model.dxfs.push(style);\n    return this.model.dxfs.length - 1;\n  }\n\n  getDxfStyle(id) {\n    return this.model.dxfs[id];\n  }\n\n  // =========================================================================\n  // Private Interface\n  _addStyle(style) {\n    const xml = this.map.style.toXml(style);\n    let index = this.index.style[xml];\n    if (index === undefined) {\n      index = this.index.style[xml] = this.model.styles.length;\n      this.model.styles.push(xml);\n    }\n    return index;\n  }\n\n  // =========================================================================\n  // Number Formats\n  _addNumFmtStr(formatCode) {\n    // check if default format\n    let index = NumFmtXform.getDefaultFmtId(formatCode);\n    if (index !== undefined) return index;\n\n    // check if already in\n    index = this.index.numFmt[formatCode];\n    if (index !== undefined) return index;\n\n    index = this.index.numFmt[formatCode] = NUMFMT_BASE + this.model.numFmts.length;\n    const xml = this.map.numFmt.toXml({id: index, formatCode});\n    this.model.numFmts.push(xml);\n    return index;\n  }\n\n  // =========================================================================\n  // Fonts\n  _addFont(font) {\n    const xml = this.map.font.toXml(font);\n    let index = this.index.font[xml];\n    if (index === undefined) {\n      index = this.index.font[xml] = this.model.fonts.length;\n      this.model.fonts.push(xml);\n    }\n    return index;\n  }\n\n  // =========================================================================\n  // Borders\n  _addBorder(border) {\n    const xml = this.map.border.toXml(border);\n    let index = this.index.border[xml];\n    if (index === undefined) {\n      index = this.index.border[xml] = this.model.borders.length;\n      this.model.borders.push(xml);\n    }\n    return index;\n  }\n\n  // =========================================================================\n  // Fills\n  _addFill(fill) {\n    const xml = this.map.fill.toXml(fill);\n    let index = this.index.fill[xml];\n    if (index === undefined) {\n      index = this.index.fill[xml] = this.model.fills.length;\n      this.model.fills.push(xml);\n    }\n    return index;\n  }\n\n  // =========================================================================\n}\n\nStylesXform.STYLESHEET_ATTRIBUTES = {\n  xmlns: 'http://schemas.openxmlformats.org/spreadsheetml/2006/main',\n  'xmlns:mc': 'http://schemas.openxmlformats.org/markup-compatibility/2006',\n  'mc:Ignorable': 'x14ac x16r2',\n  'xmlns:x14ac': 'http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac',\n  'xmlns:x16r2': 'http://schemas.microsoft.com/office/spreadsheetml/2015/02/main',\n};\nStylesXform.STATIC_XFORMS = {\n  cellStyles: new StaticXform({\n    tag: 'cellStyles',\n    $: {count: 1},\n    c: [{tag: 'cellStyle', $: {name: 'Normal', xfId: 0, builtinId: 0}}],\n  }),\n  dxfs: new StaticXform({tag: 'dxfs', $: {count: 0}}),\n  tableStyles: new StaticXform({\n    tag: 'tableStyles',\n    $: {count: 0, defaultTableStyle: 'TableStyleMedium2', defaultPivotStyle: 'PivotStyleLight16'},\n  }),\n  extLst: new StaticXform({\n    tag: 'extLst',\n    c: [\n      {\n        tag: 'ext',\n        $: {\n          uri: '{EB79DEF2-80B8-43e5-95BD-54CBDDF9020C}',\n          'xmlns:x14': 'http://schemas.microsoft.com/office/spreadsheetml/2009/9/main',\n        },\n        c: [{tag: 'x14:slicerStyles', $: {defaultSlicerStyle: 'SlicerStyleLight1'}}],\n      },\n      {\n        tag: 'ext',\n        $: {\n          uri: '{9260A510-F301-46a8-8635-F512D64BE5F5}',\n          'xmlns:x15': 'http://schemas.microsoft.com/office/spreadsheetml/2010/11/main',\n        },\n        c: [{tag: 'x15:timelineStyles', $: {defaultTimelineStyle: 'TimeSlicerStyleLight1'}}],\n      },\n    ],\n  }),\n};\n\n// the stylemanager mock acts like StyleManager except that it always returns 0 or {}\nclass StylesXformMock extends StylesXform {\n  constructor() {\n    super();\n\n    this.model = {\n      styles: [{numFmtId: 0, fontId: 0, fillId: 0, borderId: 0, xfId: 0}],\n      numFmts: [],\n      fonts: [{size: 11, color: {theme: 1}, name: 'Calibri', family: 2, scheme: 'minor'}],\n      borders: [{}],\n      fills: [\n        {type: 'pattern', pattern: 'none'},\n        {type: 'pattern', pattern: 'gray125'},\n      ],\n    };\n  }\n\n  // =========================================================================\n  // Style Manager Interface\n\n  // override normal behaviour - consume and dispose\n  parseStream(stream) {\n    stream.autodrain();\n    return Promise.resolve();\n  }\n\n  // add a cell's style model to the collection\n  // each style property is processed and cross-referenced, etc.\n  // the styleId is returned. Note: cellType is used when numFmt not defined\n  addStyleModel(model, cellType) {\n    switch (cellType) {\n      case Enums.ValueType.Date:\n        return this.dateStyleId;\n      default:\n        return 0;\n    }\n  }\n\n  get dateStyleId() {\n    if (!this._dateStyleId) {\n      const dateStyle = {\n        numFmtId: NumFmtXform.getDefaultFmtId('mm-dd-yy'),\n      };\n      this._dateStyleId = this.model.styles.length;\n      this.model.styles.push(dateStyle);\n    }\n    return this._dateStyleId;\n  }\n\n  // given a styleId (i.e. s=\"n\"), get the cell's style model\n  // objects are shared where possible.\n  getStyleModel(/* id */) {\n    return {};\n  }\n}\n\nStylesXform.Mock = StylesXformMock;\n\nmodule.exports = StylesXform;\n"],"mappings":"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"}